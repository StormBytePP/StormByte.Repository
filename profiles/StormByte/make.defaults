# Cache
FEATURES="ccache"
CCACHE_DIR="/var/cache/ccache"
CCACHE_SIZE="20G"
RUSTC_WRAPPER=/usr/bin/sccache
SCCACHE_DIR=/var/cache/sccache
SCCACHE_MAX_FRAME_LENGTH=104857600
SCCACHE_SIZE="20G"

# Use defaults
BASE="branding cjk -debug unicode pic icu -bindist python numa"
BASE_CODECS="lame"
BASE_COMPRESSION="brotli bzip2 lz4 lzip lzma lzo zlib zlib zstd"
BASE_DEBUG="strip" # If it is named 'DEBUG' it causes problems on some ebuilds
BASE_DOCS="-doc -gtk-doc"
BASE_GRAPHICS="-X -gtk -gtk3 -gtk4 -gui -qt -qt5 -qt6"
BASE_KERNEL="dist-kernel kernel-install"
BASE_NETWORK="ipv6"
BASE_SYSTEM="dbus system-av1 system-harfbuzz system-icu system-icu system-jpeg system-libevent system-librnp system-libvpx system-png system-python-libs system-webp system-zlib udev zeroconf"
USE="${BASE} ${BASE_CODECS} ${BASE_COMPRESSION} ${BASE_DEBUG} ${BASE_DOCS} ${BASE_GRAPHICS} ${BASE_KERNEL} ${BASE_NETWORK} ${BASE_SYSTEM}"

# Language
L10N="es es-ES"

# Portage folders and config
BASE="/var/db/gentoo"
BASEDIR="${BASE}/repos"
PKGDIR="${BASE}/packages"
DISTDIR="${BASE}/distfiles"
PORTAGE_TMPDIR="/tmp"
EMERGE_DEFAULT_OPTS="--ask --autounmask n --buildpkg --jobs=1 --verbose --with-bdeps=y"
GENTOO_MIRRORS="https://es.mirrors.cicku.me/gentoo https://repo.ifca.es/gentoo-distfiles"
PORTAGE_SYNC_STALE=5
BINPKG_COMPRESS="zstd"

# Versioning
PYTHON_TARGETS="-* python3_13" # Check from time to time if system is prepared to update python
PYTHON_SINGLE_TARGET="-* python3_13"
POSTGRES_TARGETS="-* postgres18"
PERL_FEATURES="ithreads"

# Licenses
ACCEPT_LICENSE="*"

# Environment
GRUB_PLATFORMS="-* efi-64"
RUBY_TARGETS="-* ruby34"
VIDEO_CARDS="-*"
INPUT_DEVICES="-* libinput"
PORTAGE_WORKDIR_MODE="0770"

# Features
FEATURES="buildpkg metadata-transfer userfetch"

# System
ABI_X86="64"

# Use latest packages
ACCEPT_KEYWORDS="~amd64"

# Output
NINJA_STATUS="[1m[%f/%t [38;2;42;181;0m(%p)[0m[1m][0m "
